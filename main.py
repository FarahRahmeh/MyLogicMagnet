from level import Level
from cells import Cell
from state import State
from game import Game

levels = [
    Level([
        ['âš«', 'âš«', 'âš«', 'âš«'],
        ['âš«', 'âšª', 'ðŸ”µ', 'âšª'],
        ['ðŸŸ£', 'âš«', 'âš«', 'âš«']
    ]),
    Level([
        ['âš«', 'âš«', 'âšª', 'âš«', 'âš«'],
        ['âš«', 'âš«', 'ðŸ”µ', 'âš«', 'âš«'],
        ['âšª', 'ðŸ”µ', 'âšª', 'ðŸ”µ', 'âšª'],
        ['âš«', 'âš«', 'ðŸ”µ', 'âš«', 'âš«'],
        ['ðŸŸ£', 'âš«', 'âšª', 'âš«', 'âš«']
    ]),
    Level([
        ['ðŸ”µ', 'âšª', 'âšª', 'âšª', 'ðŸ”µ'],
        ['ðŸ”³', 'ðŸ”³', 'ðŸ”´', 'ðŸ”³', 'ðŸ”³']
    ]),
    # Level([['âšª', 'ðŸ”µ', 'âšª', 'ðŸ”µ', 'âš«'],
    #        ['âš«', 'âš«', 'ðŸŸ£', 'âš«', 'âšª'],
    #        ['âš«', 'âš«', 'ðŸ”´', 'âš«', 'âšª'],
    #        ])

]


def display_levels():
    for i, level in enumerate(levels, start=1):
        print(f"Level {i}:\n{level}")


def get_user_choice():
    while True:
        choice = int(input(f"Select a level (1-{len(levels)}): ")) - 1
        if 0 <= choice < len(levels):
            return choice
        else:
            print("select a valid level number")


def main():
    display_levels()
    level_choice = get_user_choice()
    selected_level = levels[level_choice]
    # Convert level grid into a Cell board
    rows = len(selected_level.level_grid)
    columns = len(selected_level.level_grid[0])  # Ù…Ù† Ø§ÙˆÙ„ Ø³Ø·Ø±
    board = [[None for _ in range(columns)] for _ in range(rows)]

    for i in range(rows):
        for j in range(columns):
            symbol = selected_level.level_grid[i][j]
            if symbol == 'ðŸ”³':
                cell_type = 'Out'
            elif symbol == 'âš«':
                cell_type = 'Space'
            elif symbol == 'ðŸ”µ':
                cell_type = 'Iron'
            elif symbol == 'âšª':
                cell_type = 'White'
            elif symbol == 'ðŸ”´':
                cell_type = 'Red'
            elif symbol == 'ðŸŸ£':
                cell_type = 'Purple'
            elif symbol == 'ðŸ”˜':
                cell_type = 'WhiteIron'
            elif symbol == 'ðŸŸ¥':
                cell_type = 'WhiteRed'
            elif symbol == 'ðŸŸª':
                cell_type = 'WhitePurple'
            board[i][j] = Cell(i, j, cell_type)

    initial_state = State(rows, columns, board, cost=0, heurstic=0)
    print(initial_state)
    game = Game(initial_state)
    # game.ucs_play()
    # game.hill_climbing_play()
    game.a_star_play()
    # game.bfs_play()
    # game.dfs_play()
    # game.play(initial_state)
    # print(initial_state)


if __name__ == "__main__":
    main()
